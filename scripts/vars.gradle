def varsfile = file("$buildDir/files/frcvars.bat")
def varsfilePS = file("$buildDir/files/frcvars.ps1")
def icoFile = file("$buildDir/files/wpilib-256.ico")

def pathfolder = 'frccode'

ext.varConfigSetup = {
  return new Tuple2({ Task task ->
    task.inputs.property 'pathfolder', pathfolder
  }, { config ->
    config['PathFolder'] = pathfolder
  })
}

ext.varsZipSetup = { Zip zip->
  zip.inputs.file varsfile
  zip.inputs.file varsfilePS
  zip.inputs.file icoFile

  zip.from (varsfile) {
    into "/$pathfolder"
    rename {
      "frcvars${frcYear}.bat"
    }
  }

  zip.from (varsfilePS) {
    into "/$pathfolder"
    rename {
      "frcvars${frcYear}.ps1"
    }
  }

  zip.from (icoFile) {
    into "/$pathfolder"
  }
}
